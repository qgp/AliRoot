#-*- Mode: Makefile -*-
# $Id$ 

###############################################################################

CLASS_HDRS := 	OfflineInterface/AliHLTMUONAgent.h \
		OfflineInterface/AliHLTMUONTriggerRecordsSource.h \
		OfflineInterface/AliHLTMUONRecHitsSource.h \
		OfflineInterface/AliHLTMUONDigitPublisherComponent.h \
		OfflineInterface/AliHLTMUONRootifierComponent.h \
		OfflineInterface/AliHLTMUONESDMaker.h \
		OnlineAnalysis/AliHLTMUONTriggerReconstructorComponent.h \
		OnlineAnalysis/AliHLTMUONHitReconstructorComponent.h \
		OnlineAnalysis/AliHLTMUONMansoTrackerFSMComponent.h \
		OnlineAnalysis/AliHLTMUONDecisionComponent.h \
		OnlineAnalysis/AliHLTMUONClusterFinderComponent.h \
		utils/AliHLTMUONEmptyEventFilterComponent.h \
		utils/AliHLTMUONDataCheckerComponent.h \
		utils/AliHLTMUONRawDataHistoComponent.h \
		AliHLTMUONUtils.h \
		AliHLTMUONConstants.h \
		AliHLTMUONProcessor.h \
		AliHLTMUONRecHit.h \
		AliHLTMUONTriggerRecord.h \
		AliHLTMUONMansoTrack.h \
		AliHLTMUONDecision.h \
		AliHLTMUONEvent.h

# Sources that are not ROOT classes:
MODULE_SRCS :=	$(CLASS_HDRS:.h=.cxx) \
		AliHLTMUONTriggerRecordsBlockStruct.cxx \
		AliHLTMUONTrigRecsDebugBlockStruct.cxx \
		AliHLTMUONRecHitsBlockStruct.cxx \
		AliHLTMUONClustersBlockStruct.cxx \
		AliHLTMUONChannelsBlockStruct.cxx \
		AliHLTMUONMansoTracksBlockStruct.cxx \
		AliHLTMUONMansoCandidatesBlockStruct.cxx \
		AliHLTMUONSinglesDecisionBlockStruct.cxx \
		AliHLTMUONPairsDecisionBlockStruct.cxx \
		OnlineAnalysis/AliHLTMUONCalculations.cxx \
		OnlineAnalysis/AliHLTMUONTriggerReconstructor.cxx \
		OnlineAnalysis/AliHLTMUONHitReconstructor.cxx \
		OnlineAnalysis/AliHLTMUONMansoTrackerFSM.cxx

MODULE_HDRS := 	$(MODULE_SRCS:.cxx=.h) \
		AliHLTMUONDataBlockReader.h \
		AliHLTMUONDataBlockWriter.h \
		AliHLTMUONDataTypes.h \
		AliHLTMUONList.h \
		AliHLTMUONCountedList.h \
		OnlineAnalysis/AliHLTMUONMansoTrackerFSMCallback.h

# The dictionary linkdef header for rootcint:
MODULE_DHDR := 	AliHLTMUONLinkDef.h

EINCLUDE := 	HLT/BASE HLT/MUON HLT/MUON/utils HLT/MUON/OnlineAnalysis \
		HLT/MUON/OfflineInterface MUON MUON/mapping STEER RAW

LIBRARY_DEP := -lHLTbase -lMUONmapping -lMUONbase -lMUONevaluation \
               -lMUONsim -lMUONcore -lMUONcalib -lMUONgeometry -lMUONraw -lMUONtrigger -lMUONrec \
               -lCDB -lESD -lSTEER -lSTEERBase -lRAWDatarec -lRAWDatasim \
               -L$(ROOTLIBDIR) -lMinuit

###############################################################################

include $(MODDIR)/hlt.conf

CINTHDRS:= 	$(patsubst %,MUON/%,$(CLASS_HDRS))
SRCS := 	$(patsubst %,MUON/%,$(MODULE_SRCS))
HDRS := 	$(patsubst %,MUON/%,$(MODULE_HDRS))
DHDR:= 		$(patsubst %,MUON/%,$(MODULE_DHDR))
CINTAUTOLINK:= $(shell test "x$(MODULE_DHDR)" = "x" && echo 1)

EDEFINE      := ${HLTDEFS}
PACKCXXFLAGS := ${HLTCXXFLAGS}
PACKCFLAGS   := ${HLTCLFAGS}
PACKDCXXFLAGS:= ${HLTDCXXFLAGS}
PACKSOFLAGS  := $(HLTSOFLAGS)
